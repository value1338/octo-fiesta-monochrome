services:
  octo-fiesta:
    image: ghcr.io/v1ck3s/octo-fiesta
    container_name: octo-fiesta
    restart: unless-stopped
    ports:
      - "5274:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      # Navidrome/Subsonic server URL
      - Subsonic__Url=${SUBSONIC_URL:-http://localhost:4533}
      # Explicit content filter: All, ExplicitOnly, CleanOnly (default: ExplicitOnly)
      - Subsonic__ExplicitFilter=${EXPLICIT_FILTER:-ExplicitOnly}
      # Download path inside container
      - Library__DownloadPath=/app/downloads
      # Deezer ARL token (required)
      - Deezer__Arl=${DEEZER_ARL}
      # Fallback ARL token (optional)
      - Deezer__ArlFallback=${DEEZER_ARL_FALLBACK:-}
      # Preferred audio quality: FLAC, MP3_320, MP3_128 (optional, defaults to highest available)
      - Deezer__Quality=${DEEZER_QUALITY:-}
    volumes:
      - ${DOWNLOAD_PATH:-./downloads}:/app/downloads
