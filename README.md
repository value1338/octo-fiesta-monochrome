# Octo-Fiesta

A Subsonic API proxy server that transparently integrates multiple music streaming providers as sources. When a song is not available in your local Navidrome library, it is automatically fetched from your configured provider, downloaded, and served to your Subsonic-compatible client. The downloaded song is then added to your library, making it available locally for future listens.

## Why "Octo-Fiesta"?

The name was randomly generated by GitHub when creating the repository. We found it amusing and somewhat fitting for a music application. After all, "fiesta" evokes a party atmosphere, which goes well with music streaming. So we kept it!

## Features

- **Multi-Provider Architecture**: Pluggable music service system supporting multiple streaming providers
- **Transparent Proxy**: Acts as a middleware between Subsonic clients and your Navidrome server
- **Seamless Integration**: Automatically searches and streams music from your configured provider when not available locally
- **Automatic Downloads**: Songs are downloaded on-the-fly and cached for future use
- **External Playlist Support**: Search, discover, and download playlists with automatic M3U generation
- **Hi-Res Audio Support**: Up to 24-bit/192kHz FLAC quality
- **Full Metadata Embedding**: Complete ID3 tags and embedded cover art
- **Organized Library**: Downloads saved in clean `Artist/Album/Track` folder structure

## Supported Music Providers

| Provider | Credentials Required | Max Quality | Playlist Support |
|----------|---------------------|-------------|------------------|
| [SquidWTF](https://squid.wtf/) | No | FLAC 24-bit | No |
| [Qobuz](https://www.qobuz.com/) | Yes | FLAC 24-bit/192kHz | Yes |
| [Deezer](https://www.deezer.com/) | Yes | FLAC 16-bit | Yes |

See the [Supported Music Providers](https://github.com/V1ck3s/octo-fiesta/wiki/Supported-Music-Providers) wiki page for detailed information.

## Compatible Clients

| Platform | Clients |
|----------|---------|
| **Desktop** | [Aonsoku](https://github.com/victoralvesf/aonsoku), [Feishin](https://github.com/jeffvli/feishin), [Supersonic](https://github.com/dweymouth/supersonic), [Subplayer](https://github.com/peguerosdc/subplayer), [Aurial](https://github.com/shrimpza/aurial) |
| **Android** | [Tempus](https://github.com/eddyizm/tempus), [Substreamer](https://substreamerapp.com/), [Yuzic](https://github.com/eftpmc/yuzic) |
| **iOS** | [Narjo](https://www.reddit.com/r/NarjoApp/), [BeatsX](https://apps.apple.com/fr/app/beatsx/id6745130542), [Yuzic](https://github.com/eftpmc/yuzic) |

See the [Compatible Clients](https://github.com/V1ck3s/octo-fiesta/wiki/Compatible-Clients) wiki page for details and incompatible clients.

## Quick Start

### Requirements

- A running [Navidrome](https://www.navidrome.org/) server (or other Subsonic-compatible server)
- Docker and Docker Compose (recommended) or [.NET 9.0 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)

### Docker Installation

```bash
# Clone the repository
git clone https://github.com/V1ck3s/octo-fiesta.git
cd octo-fiesta

# Configure
cp .env.example .env
nano .env  # Edit with your settings

# Start
docker-compose up -d
```

The proxy will be available at `http://localhost:5274`. Point your Subsonic client to this URL instead of your Navidrome server.

See the [Installation](https://github.com/V1ck3s/octo-fiesta/wiki/Installation) wiki page for detailed instructions including manual installation.

## Configuration

See the [Configuration](https://github.com/V1ck3s/octo-fiesta/wiki/Configuration) wiki page for all available settings.

### Getting Credentials

- [Getting Deezer Credentials (ARL Token)](https://github.com/V1ck3s/octo-fiesta/wiki/Getting-Deezer-Credentials-(ARL-Token))
- [Getting Qobuz Credentials (User ID & Token)](https://github.com/V1ck3s/octo-fiesta/wiki/Getting-Qobuz-Credentials-(User-ID-&-Token))
- **SquidWTF**: No credentials needed!

## Architecture

```
┌─────────────────┐     ┌──────────────────┐     ┌─────────────────┐
│  Subsonic       │────▶│   Octo-Fiesta    │────▶│   Navidrome     │
│  Client         │◀────│   (Proxy)        │◀────│   Server        │
│  (Aonsoku)      │     │                  │     │                 │
└─────────────────┘     └────────┬─────────┘     └─────────────────┘
                                 │
                                 ▼
                        ┌─────────────────┐
                        │ Music Providers │
                        │  - Deezer       │
                        │  - Qobuz        │
                        │  - SquidWTF     │
                        └─────────────────┘
```

## Limitations

- **Playlist Search**: Streaming provider playlists appear in global search but may not show in the Playlists tab due to client-side filtering.
- **Playlist Display**: Due to Subsonic API limitations, playlists appear at the end of the album list with a music note icon. See [Playlists](https://github.com/V1ck3s/octo-fiesta/wiki/Playlists) for details.
- **Token Expiration**: Provider authentication tokens expire and need periodic refresh.

## Documentation

Full documentation is available in the [Wiki](https://github.com/V1ck3s/octo-fiesta/wiki):

- [Installation](https://github.com/V1ck3s/octo-fiesta/wiki/Installation)
- [Configuration](https://github.com/V1ck3s/octo-fiesta/wiki/Configuration)
- [Compatible Clients](https://github.com/V1ck3s/octo-fiesta/wiki/Compatible-Clients)
- [Supported Music Providers](https://github.com/V1ck3s/octo-fiesta/wiki/Supported-Music-Providers)
- [Playlists](https://github.com/V1ck3s/octo-fiesta/wiki/Playlists)
- [API Endpoints](https://github.com/V1ck3s/octo-fiesta/wiki/API-Endpoints)
- [Development & Contributing](https://github.com/V1ck3s/octo-fiesta/wiki/Development-and-Contributing)

> **Need help?** Please check the [Wiki](https://github.com/V1ck3s/octo-fiesta/wiki) before opening an issue.

## Contributing

Contributions are welcome! See the [Development & Contributing](https://github.com/V1ck3s/octo-fiesta/wiki/Development-and-Contributing) guide.

```bash
# Build
dotnet build

# Run tests
dotnet test
```

## License

GPL-3.0

## Acknowledgments

- [Navidrome](https://www.navidrome.org/) - The excellent self-hosted music server
- [Deezer](https://www.deezer.com/) - Music streaming service
- [Qobuz](https://www.qobuz.com/) - Hi-Res music streaming service
- [SquidWTF](https://squid.wtf/) - Third-party music API service
- [Subsonic API](http://www.subsonic.org/pages/api.jsp) - The API specification
